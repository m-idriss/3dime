/* ==========================================================================
   Main Styles - 3dime v2 Angular Application
   ========================================================================== */

/* Import Design System */
@use 'styles/design-tokens';
@use 'styles/mixins';
@use 'styles/animations';

/* Base Styles */
*,
*::before,
*::after {
  box-sizing: border-box;
}

* {
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-family-primary);
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-normal);
  line-height: var(--line-height-normal);
  color: var(--color-text-primary);
  background: var(--color-bg-primary);
  min-height: 100vh;
  overflow-x: hidden;
  position: relative;
  
  /* Space background with video */
  &::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
      radial-gradient(ellipse at center, rgba(0, 100, 200, 0.15) 0%, rgba(0, 0, 0, 0.8) 70%),
      linear-gradient(45deg, rgba(0, 50, 100, 0.1) 0%, rgba(0, 0, 0, 0.9) 100%);
    z-index: -2;
  }
  
  /* Custom scrollbar */
  @include mixins.custom-scrollbar();
}

/* Space background video */
.background-video {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: -3;
  opacity: 0.3;
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-tight);
  color: var(--color-text-primary);
}

h1 {
  @include mixins.heading('5xl');
  
  @include mixins.respond-to(md) {
    @include mixins.heading('6xl');
  }
}

h2 {
  @include mixins.heading('3xl');
  
  @include mixins.respond-to(md) {
    @include mixins.heading('4xl');
  }
}

h3 {
  @include mixins.heading('2xl');
  
  @include mixins.respond-to(md) {
    @include mixins.heading('3xl');
  }
}

h4 {
  @include mixins.heading('xl');
  
  @include mixins.respond-to(md) {
    @include mixins.heading('2xl');
  }
}

h5 {
  @include mixins.heading('lg');
  
  @include mixins.respond-to(md) {
    @include mixins.heading('xl');
  }
}

h6 {
  @include mixins.heading('base');
  
  @include mixins.respond-to(md) {
    @include mixins.heading('lg');
  }
}

p {
  color: var(--color-text-secondary);
  line-height: var(--line-height-relaxed);
  
  &.text-large {
    font-size: var(--font-size-lg);
  }
  
  &.text-small {
    font-size: var(--font-size-sm);
  }
}

/* Links */
a {
  color: var(--color-primary);
  text-decoration: none;
  transition: color var(--duration-fast) var(--ease-out);
  
  &:hover {
    color: var(--color-primary-light);
  }
  
  &:focus {
    @include mixins.focus-ring();
  }
}

/* Lists */
ul, ol {
  padding-left: var(--space-6);
}

li {
  color: var(--color-text-secondary);
  line-height: var(--line-height-relaxed);
}

/* Code */
code {
  font-family: var(--font-family-mono);
  font-size: 0.875em;
  background: var(--color-bg-tertiary);
  color: var(--color-primary);
  padding: var(--space-1) var(--space-2);
  border: 1px solid var(--color-border-primary);
}

pre {
  font-family: var(--font-family-mono);
  background: var(--color-bg-tertiary);
  color: var(--color-text-secondary);
  padding: var(--space-4);
  border: 1px solid var(--color-border-primary);
  overflow-x: auto;
  
  @include mixins.custom-scrollbar(4px);
  
  code {
    background: none;
    border: none;
    padding: 0;
  }
}

/* Utility Classes */
.sr-only {
  @include mixins.visually-hidden();
}

.container {
  @include mixins.container();
}

.flex-center {
  @include mixins.flex-center();
}

.flex-between {
  @include mixins.flex-between();
}

.flex-column {
  @include mixins.flex-column();
}

.text-center {
  text-align: center;
}

.text-gradient {
  @include mixins.text-gradient();
}

/* Glass morphism utility classes */
.glass-card {
  @include mixins.glass-card();
}

.glass-card--sm {
  @include mixins.glass-card('sm');
}

.glass-card--lg {
  @include mixins.glass-card('lg');
}

.glass-card--xl {
  @include mixins.glass-card('xl');
}

.glass-hover {
  @include mixins.glass-hover();
}

/* Animation utility classes */
.fade-in {
  @include mixins.fade-in();
}

.slide-up {
  @include mixins.slide-up();
}

/* Button Classes */
.btn {
  @include mixins.button-base();
}

.btn--primary {
  @include mixins.button-primary();
}

.btn--ghost {
  @include mixins.button-ghost();
}

/* Skip Links for Accessibility */
.skip-link {
  position: absolute;
  top: -40px;
  left: var(--space-4);
  background: var(--color-primary);
  color: var(--color-bg-primary);
  padding: var(--space-2) var(--space-4);
  text-decoration: none;
  font-weight: var(--font-weight-medium);
  z-index: var(--z-index-toast);
  transition: top var(--duration-fast) var(--ease-out);
  
  &:focus {
    top: var(--space-4);
  }
}

/* Loading States */
.loading-shimmer {
  background: linear-gradient(90deg, 
    var(--color-bg-tertiary) 25%, 
    var(--color-bg-secondary) 50%, 
    var(--color-bg-tertiary) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

/* Focus Management */
.focus-trap {
  &:focus {
    outline: none;
  }
}

/* Print Styles */
@media print {
  * {
    background: transparent !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  a {
    text-decoration: underline;
  }
  
  .no-print {
    display: none !important;
  }
}
